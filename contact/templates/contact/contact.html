{% extends 'global/base.html' %}

{% block content %}
  <div class="single-contact">
    <h1 class="single-contact-name">
      {{ contact.first_name }} {{ contact.last_name }}
    </h1>

    <p><b>ID:</b> {{ contact.id }}</p>
    <p><b>E-mail:</b> {{ contact.email }}</p>
    <p><b>Telefone:</b> {{ contact.phone }}</p>
    <p><b>Data de Criação:</b> {{ contact.created_date }}</p>
    <p><b>Descrição:</b> {{ contact.description }}</p>
    <p><b>Categoria:</b> {{ contact.category.name }}</p>

    <div class="contact-links">
      <a class="btn btn-link" href="{% url 'contact:update' contact.id %}"> 
        Update
      </a>

      <form id='delete-form' action="{% url 'contact:delete' contact.id %}" method="POST">
        {% csrf_token %}
        <button class="btn btn-link btn-delete" type="submit">
          Delete
        </button>
      </form>
    </div>

  </div>

  <script>
    document.getElementById('delete-form').addEventListener('submit', function(event) {
      var confirmDelete = confirm("Tem certeza que deseja excluir este contato?");
      if (!confirmDelete) {
        event.preventDefault();
      }
    });
  </script>
  
{% endblock content %}
